<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>TSS Tracker</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="js/index.global.js"></script>
</head>
<body>
<main>
    <h2>Workout Calendar</h2>
    <div id="calendar"></div>
</main>
<script src="js/main.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    const calendarEl = document.getElementById('calendar');

    fetch('/api/workouts')
        .then(res => res.json())
        .then(data => {
            const events = data.map(w => ({
                title: `TSS: ${w.tss} (${w.status})`,
                start: w.workout_date,
                url: `detail.html?id=${w.id}`
            }));

            const calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: 'dayGridMonth',
                events: events,
                eventColor: '#1E90FF'
            });

            calendar.render();
        });
});
</script>

</body>
</html>
